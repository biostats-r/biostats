<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>27&nbsp; Bestiary of Brackets and other R notation â€“ Working in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./050_missing_values.html" rel="prev">
<link href="./../figures/favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-3e476e15ae565c222d94875412ae43a1.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-d3043699f4f525e226433170f63674df.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-09d31aecdfaed6635bc15332bd6d5cdd.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-f217443c5b0c50e22034f6b67fd2df8d.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="site_libs/quarto-contrib/kbd/kbd.js"></script>
<link href="site_libs/quarto-contrib/kbd/kbd.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="include/webex.css">
</head>
<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./050_missing_values.html">Other Topics</a></li><li class="breadcrumb-item"><a href="./060_bestiary.html"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Bestiary of Brackets and other R notation</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Working in R</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/biostats-r/biostats" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Setting up R and RStudio</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0010_Getting_Started_with_RStudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Installing and configuring R and RStudio</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0011_projects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">RStudio projects</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0012_scripts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Working with a script</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0013_packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Installing packages</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">First steps in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0021_R_calculator.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">R as a calculator</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0022_help.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Help!</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0023_objects_names.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Objects and names</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./002_V_is_for_vector.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">V is for vector</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./0025_data_structures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Data structures beyond the vector</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./005_Importing_Data_in_R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Importing data in R</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Data manipulation with the tidyverse</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./010-pipes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Pipes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./011-tidyr-pivot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Tidying data with <code>tidyr</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./012-dplyr-single-table.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Working with single tables in <code>dplyr</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./013-dplyr-multiple-tables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Working with multiple tables in <code>dplyr</code></span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Data Visualisation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./100_why_data_visualisation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Why is data visualization important?</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./101_getting_started_with_ggplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Getting started with ggplot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./103_different_types_of_vizualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Choosing your visualisation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./118_themes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Themes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./120_colour_shape_linetypes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Colours, shapes and linetypes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./125_ggplot_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Regression and ggplot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./130_patchwork.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Combining plots</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./140_maps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Making maps in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./141-mathematical-notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Mathematical notation for plots</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./150_ggplot_environment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">ggplot2 helper packages</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Other Topics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./050_missing_values.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Handling missing values</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./060_bestiary.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Bestiary of Brackets and other R notation</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<p><a href="https://biostats.w.uib.no/"><img src="https://biostats.w.uib.no/files/2020/01/biostats-button-res2.png" title="bioST@TS | When biology adds up, at lastâ€¦" class="img-fluid"></a> <br><a href="../index.html"><img src="../figures/icons_all.png" title="BioST@TS books" width="250" height="50"></a></p>
</div></div>
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#assignment-arrows" id="toc-assignment-arrows" class="nav-link active" data-scroll-target="#assignment-arrows"><span class="header-section-number">27.1</span> Assignment arrows</a></li>
  <li><a href="#sec-backslash" id="toc-sec-backslash" class="nav-link" data-scroll-target="#sec-backslash"><span class="header-section-number">27.2</span> Backslash</a></li>
  <li><a href="#brackets" id="toc-brackets" class="nav-link" data-scroll-target="#brackets"><span class="header-section-number">27.3</span> Brackets</a></li>
  <li><a href="#boolean-operators" id="toc-boolean-operators" class="nav-link" data-scroll-target="#boolean-operators"><span class="header-section-number">27.4</span> Boolean operators</a></li>
  <li><a href="#colons" id="toc-colons" class="nav-link" data-scroll-target="#colons"><span class="header-section-number">27.5</span> Colons</a></li>
  <li><a href="#commas" id="toc-commas" class="nav-link" data-scroll-target="#commas"><span class="header-section-number">27.6</span> Commas</a></li>
  <li><a href="#dot" id="toc-dot" class="nav-link" data-scroll-target="#dot"><span class="header-section-number">27.7</span> Dot</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"><span class="header-section-number">27.8</span> â€¦</a></li>
  <li><a href="#dollars" id="toc-dollars" class="nav-link" data-scroll-target="#dollars"><span class="header-section-number">27.9</span> Dollars</a></li>
  <li><a href="#equals-sign" id="toc-equals-sign" class="nav-link" data-scroll-target="#equals-sign"><span class="header-section-number">27.10</span> Equals sign</a></li>
  <li><a href="#file-paths" id="toc-file-paths" class="nav-link" data-scroll-target="#file-paths"><span class="header-section-number">27.11</span> File paths</a></li>
  <li><a href="#formula-notation" id="toc-formula-notation" class="nav-link" data-scroll-target="#formula-notation"><span class="header-section-number">27.12</span> Formula notation</a></li>
  <li><a href="#greater-than-and-less-than" id="toc-greater-than-and-less-than" class="nav-link" data-scroll-target="#greater-than-and-less-than"><span class="header-section-number">27.13</span> Greater than and less than</a></li>
  <li><a href="#hash" id="toc-hash" class="nav-link" data-scroll-target="#hash"><span class="header-section-number">27.14</span> Hash</a></li>
  <li><a href="#mathematical-operators" id="toc-mathematical-operators" class="nav-link" data-scroll-target="#mathematical-operators"><span class="header-section-number">27.15</span> Mathematical operators</a></li>
  <li><a href="#percent-signs" id="toc-percent-signs" class="nav-link" data-scroll-target="#percent-signs"><span class="header-section-number">27.16</span> Percent signs</a></li>
  <li><a href="#quote-marks" id="toc-quote-marks" class="nav-link" data-scroll-target="#quote-marks"><span class="header-section-number">27.17</span> Quote marks</a></li>
  <li><a href="#question-marks" id="toc-question-marks" class="nav-link" data-scroll-target="#question-marks"><span class="header-section-number">27.18</span> Question marks</a></li>
  <li><a href="#regular-expressions" id="toc-regular-expressions" class="nav-link" data-scroll-target="#regular-expressions"><span class="header-section-number">27.19</span> Regular expressions</a></li>
  <li><a href="#semi-colon" id="toc-semi-colon" class="nav-link" data-scroll-target="#semi-colon"><span class="header-section-number">27.20</span> Semi-colon</a></li>
  <li><a href="#underscore" id="toc-underscore" class="nav-link" data-scroll-target="#underscore"><span class="header-section-number">27.21</span> Underscore</a></li>
  <li><a href="#white-space" id="toc-white-space" class="nav-link" data-scroll-target="#white-space"><span class="header-section-number">27.22</span> White space</a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"><span class="header-section-number">27.23</span> @</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./050_missing_values.html">Other Topics</a></li><li class="breadcrumb-item"><a href="./060_bestiary.html"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Bestiary of Brackets and other R notation</span></a></li></ol></nav><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="sec-bestiary" class="quarto-section-identifier"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Bestiary of Brackets and other R notation</span></span></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i></button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>!#@%&amp;?</p>
<p>What does that mean?</p>
<p>This page is a guide to decoding what all the non-alphanumeric used in R mean. It covers base R use and the most common uses within <code>tidyverse</code> and related packages.</p>
<section id="assignment-arrows" class="level2" data-number="27.1"><h2 data-number="27.1" class="anchored" data-anchor-id="assignment-arrows">
<span class="header-section-number">27.1</span> Assignment arrows</h2>
<p>The usual way to assign an object to a name is to use a left-pointing arrow <code>&lt;-</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">42</span> <span class="co"># This will assign the value 42 to the name x</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The keyboard short-cut for the assign arrow is <kbd aria-hidden="true" data-linux="Alt--" data-mac="Option--" data-windows="Alt--"></kbd><span class="visually-hidden"></span>.</p>
<p>It is also possible to use right-pointing arrows <code>-&gt;</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">42</span> <span class="op">-&gt;</span> <span class="va">x</span> <span class="co"># This will assign the value 42 to the name x</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is not recommended because it makes code difficult to read.</p>
</section><section id="sec-backslash" class="level2" data-number="27.2"><h2 data-number="27.2" class="anchored" data-anchor-id="sec-backslash">
<span class="header-section-number">27.2</span> Backslash</h2>
<p>Some characters cannot be directly represented in character strings so an escape sequence is used instead. Escape sequences always start with the backslash character <code>\</code>.</p>
<ul>
<li>
<code>\n</code> new line</li>
<li>
<code>\t</code> tab (very useful for importing tab-delimited files with <code>read_delim</code>)</li>
<li>
<code>\\</code> backslash</li>
<li>
<code>\U1F600</code> including Unicode or emoji ðŸ˜€</li>
</ul>
<p>If you want to use a literal backslash in a character string, it needs to be escaped with another backslash. Note that <code>print</code> shows the contents of the string, including the backslashes, while <code>cat</code> shows what would be shows by ggplot etc.</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"Backslash-n gives a newline\nThis is a literal backslash '\\'"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Backslash-n gives a newline\nThis is a literal backslash '\\'"</code></pre>
</div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Backslash-n gives a newline
This is a literal backslash '\'</code></pre>
</div>
</div>
<p>Backslashes can also be used to declare a function. Functions are normally declared with the keyword function</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">my_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span><span class="va">x</span> <span class="op">+</span> <span class="fl">1</span><span class="op">}</span> <span class="co"># adds 1 to x</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is equivalent to</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">my_function</span> <span class="op">&lt;-</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span><span class="va">x</span> <span class="op">+</span> <span class="fl">1</span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This notation makes function declarations more concise and is especially useful for anonymous functions.</p>
</section><section id="brackets" class="level2" data-number="27.3"><h2 data-number="27.3" class="anchored" data-anchor-id="brackets">
<span class="header-section-number">27.3</span> Brackets</h2>
<p>Three different types of bracket are used in R.</p>
<p>The round brackets <code>()</code> are used to contain all the arguments to a function.</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, mean <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Round brackets <code>()</code> are also used to force the order of operations in an calculation or Boolean logic.</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">9</span> <span class="op">*</span> <span class="fl">6</span> <span class="op">+</span> <span class="fl">5</span> <span class="co"># 59</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 59</code></pre>
</div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">9</span> <span class="op">*</span> <span class="op">(</span><span class="fl">6</span> <span class="op">+</span> <span class="fl">5</span><span class="op">)</span> <span class="co"># 99</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 99</code></pre>
</div>
</div>
<p>Single square brackets <code>[]</code> are used for sub-setting vectors, matrices and similar objects.</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># extract the 6th and 7th element of month.name</span></span>
<span><span class="va">month.name</span><span class="op">[</span><span class="fl">6</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "June" "July"</code></pre>
</div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># extract first element of species column (dplyr gives neater ways to do this)</span></span>
<span><span class="va">penguins</span><span class="op">[</span><span class="fl">1</span>, <span class="st">"species"</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 1
  species
  &lt;fct&gt;  
1 Adelie </code></pre>
</div>
</div>
<p>Double square brackets are used to extract elements from a list</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="co"># single square bracket returns a list - see the $a</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$a
[1] 1</code></pre>
</div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co"># double square bracket returns element directly</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p>Curly brackets or braces <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code> are used to keep code that needs to be run together as a single expression. This is commonly done when writing a function</p>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cylinder_volume</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">radius</span> <span class="op">=</span> <span class="fl">1</span>, <span class="va">height</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">radius</span> <span class="op">^</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">pi</span> <span class="op">*</span> <span class="va">height</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">cylinder_volume</span><span class="op">(</span>height <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>or when writing an <code>if</code> statement</p>
<div class="cell">
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="va">logical_condition</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co">#some code to run if logical_condition is TRUE</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Curly brackets are also used in the <code>glue</code> package, an easy to use alternative to <code>paste</code>. The curly brackets demarcate R code to include in the output.</p>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"The penguins dataset has {nrow(penguins)} rows"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The penguins dataset has 344 rows</code></pre>
</div>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># base R alternative gets clunky fast</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"The penguins dataset has"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">penguins</span><span class="op">)</span>, <span class="st">"rows"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "The penguins dataset has 344 rows"</code></pre>
</div>
</div>
<p>Double curly brackets <code>{{}}</code> are used programming with <code>tidyverse</code>. See the <code>dplyr</code> programming vignette for details.</p>
</section><section id="boolean-operators" class="level2" data-number="27.4"><h2 data-number="27.4" class="anchored" data-anchor-id="boolean-operators">
<span class="header-section-number">27.4</span> Boolean operators</h2>
<p>Boolean operators are used to combine logical tests.</p>
<p>If <code>a</code> and <code>b</code> are logical vectors (i.e.&nbsp;TRUE and FALSE), or vectors that can be coerced to logical vectors, then</p>
<ul>
<li>
<code>!a</code> NOT a</li>
<li>
<code>a &amp; b</code> a AND b</li>
<li>
<code>a | b</code> a OR b</li>
</ul>
<p>Boolean operators can be combined to form complex statements. Round brackets can be used to force the order of evaluation</p>
<div class="cell">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">10</span></span>
<span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">|</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="fl">20</span>  <span class="co"># is x between 0 and 20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">|</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="fl">20</span>  <span class="op">&amp;</span> <span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">1</span> <span class="co"># is x an odd number between 0 and 20. Wrong order of evaluation.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;</span> <span class="fl">20</span> <span class="op">|</span> <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span>  <span class="op">&amp;</span> <span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">1</span> <span class="co"># Brackets force correct order.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>It is probably a good idea to always use brackets in statements with multiple Boolean operators to make the order of evaluation clear to the reader.</p>
<p>You will also see doubled up <code>||</code> and <code>&amp;&amp;</code> operators. These are special Boolean operators that only return the first element of any vector of results. This is useful with <code>if</code> statements which want only a single TRUE or FALSE.</p>
</section><section id="colons" class="level2" data-number="27.5"><h2 data-number="27.5" class="anchored" data-anchor-id="colons">
<span class="header-section-number">27.5</span> Colons</h2>
<p>A single colon <code>:</code> is used to get a sequence between two values with a step size of one.</p>
<div class="cell">
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#equivalent to</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="fl">10</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
</div>
<p>A single colon is also used when detaching a package which is almost, but not quite, the opposite of running <code>library</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">mgcv</span><span class="op">)</span> <span class="co"># loads mgcv package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/detach.html">detach</a></span><span class="op">(</span><span class="st">"package:mgcv"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Because <code>detach</code> is not exactly the opposite of <code>library</code>, it is normally better to restart the R session (In Rstudio go to â€˜Sessionâ€™ then â€˜Restart Râ€™).</p>
<p>Double colons <code>::</code> let you use a single function from a package without loading the entire package. For example, <code><a href="https://readxl.tidyverse.org/reference/read_excel.html">readxl::read_excel()</a></code> will run <code>read_excel()</code>. This can prevent conflicts between functions with the same name in different packages, or make code clearer by being explicit where a function comes from.</p>
<p>Triple colons <code>:::</code> are used to access a packageâ€™s internal functions. This can be useful to access the help file or to view the code, but you should not rely on the internal functions staying the same.</p>
</section><section id="commas" class="level2" data-number="27.6"><h2 data-number="27.6" class="anchored" data-anchor-id="commas">
<span class="header-section-number">27.6</span> Commas</h2>
<p>Arguments in a function need to be separated by a comma.</p>
<div class="cell">
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, mean <span class="op">=</span> <span class="fl">1</span>, sd <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you forget to use a comma, you will get a reminder from R, and Rstudio should underline the problem.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">1</span> <span class="at">sd =</span> <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: &lt;text&gt;:1:29: unexpected symbol
1: x &lt;- rnorm(n = 10, mean = 1 sd
                                ^</code></pre>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="figures/missing_comma.png" class="img-fluid figure-img"></p>
<figcaption>Rstudio puts a cross in the margin and underlines the unexpected text after the missing comma.</figcaption></figure>
</div>
</section><section id="dot" class="level2" data-number="27.7"><h2 data-number="27.7" class="anchored" data-anchor-id="dot">
<span class="header-section-number">27.7</span> Dot</h2>
<p>The dot <code>.</code> is used as the decimal separator in R, for example in 3.1415927.</p>
<p>Object names can have a dot in them. If the name starts with a dot, the object is invisible and wonâ€™t show up in the environment tab in Rstudio.</p>
<p>Dots in function names can be decorative, but can also be used by R to determine which function needs to be used for each type of object. For example, there is a <code><a href="https://rdrr.io/r/stats/summary.lm.html">summary.lm()</a></code> and an <code>anova.lm()</code> which process <code>lm</code> class objects generated by the function <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code>. There are also <code><a href="https://rdrr.io/r/stats/glm.html">glm()</a></code>, <code><a href="https://rdrr.io/pkg/nlme/man/lme.html">lme()</a></code>, and many other versions of these functions available to process different classes of objects. When you run <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> or <code><a href="https://rdrr.io/r/stats/anova.html">anova()</a></code>, which are known as a generic functions, R will automatically select the correct version to use based on the class of object given. You can find out the class of an object my using the function <code><a href="https://rdrr.io/r/base/class.html">class()</a></code>.</p>
</section><section id="section" class="level2" data-number="27.8"><h2 data-number="27.8" class="anchored" data-anchor-id="section">
<span class="header-section-number">27.8</span> â€¦</h2>
<p>You will often see three dots <code>...</code> in a functionâ€™s arguments. These are used when the name (and number) of arguments is not known in advance. For example, the function<code><a href="https://rdrr.io/r/base/c.html">c()</a></code> has <code>...</code> in its arguments, allowing you to put any number of objects with any names into the function to make a vector. The three dots are often used by generic functions because the different versions of the function for different classes of object need different arguments. In <code>dplyr</code>, the dots are used for the column names of the data frame or tibble being processed.</p>
</section><section id="dollars" class="level2" data-number="27.9"><h2 data-number="27.9" class="anchored" data-anchor-id="dollars">
<span class="header-section-number">27.9</span> Dollars</h2>
<p>The dollar symbol <code>$</code> is used to subset lists. Many objects in R, including data frames, are special types of lists.</p>
<div class="cell">
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">x</span><span class="op">$</span><span class="va">a</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">penguins</span><span class="op">$</span><span class="va">species</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="co"># just the first few elements</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Adelie Adelie Adelie
Levels: Adelie Chinstrap Gentoo</code></pre>
</div>
</div>
</section><section id="equals-sign" class="level2" data-number="27.10"><h2 data-number="27.10" class="anchored" data-anchor-id="equals-sign">
<span class="header-section-number">27.10</span> Equals sign</h2>
<p>One equals sign <code>=</code> is used to assign a value to an argument in a function</p>
<div class="cell">
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, mean <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>One equals sign can be used instead of the assignment arrow, but the intent of the arrow is clearer.</p>
<p>Two equals signs <code>==</code> are used as a test of exact equality. This test is sensitive to numerical impression in floating point numbers (numbers which have a decimal point). It can be safer to use <code>near</code> for numeric values as this has a built in tolerance.</p>
<div class="cell">
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">2</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">^</span> <span class="fl">2</span> <span class="co"># see 2 - sqrt(2) ^ 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">near</span><span class="op">(</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">^</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>It is a very common mistake to use one equals sign rather than two. <code>filter</code> in <code>dplyr</code> gives a helpful error message</p>
<div class="cell">
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">penguins</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2007</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `filter()`:
! We detected a named input.
â„¹ This usually means that you've used `=` instead of `==`.
â„¹ Did you mean `year == 2007`?</code></pre>
</div>
</div>
</section><section id="file-paths" class="level2" data-number="27.11"><h2 data-number="27.11" class="anchored" data-anchor-id="file-paths">
<span class="header-section-number">27.11</span> File paths</h2>
<p>When you want to import data from or save a file to a, a directory (folder) other than the working directory (usually where you RStudio project .rproj file is), you need to specify the path.</p>
<p>The directory name need to be separated from the file name by a forwards slash <code>/</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="st">"my_directory/my_file.csv"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you use a backslash by mistake, you will get an error, because the <a href="backslash">backslash</a> is the escape character. You will sometimes see a double backslash used as a path separator, but this is not recommended.</p>
<p>You can also use the function <code><a href="https://rdrr.io/r/base/file.path.html">file.path()</a></code> to generate paths to files.</p>
<div class="cell">
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="st">"my_directory"</span>, <span class="st">"my_file.csv"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "my_directory/my_file.csv"</code></pre>
</div>
</div>
<p>If you want to read a file from the directory above the working directory, you can use <code>../my_file.csv</code>, where <code>..</code> means go up one, but you should probably use the <code>here</code> package.</p>
</section><section id="formula-notation" class="level2" data-number="27.12"><h2 data-number="27.12" class="anchored" data-anchor-id="formula-notation">
<span class="header-section-number">27.12</span> Formula notation</h2>
<p>Formulae are mainly used in regression models, but also in plotting (base plot and <code>facet_wrap()</code>) and some other functions.</p>
<p>Formula always have a tilde <code>~</code>. The response (if any) goes to the left of the tilde, and the predictors to the right.</p>
<p>Other characters that can be used in formula include <code>* + | / : ^</code> which take on a different meaning from their usual meaning.</p>
<p>The following linear model has a formula that has bill length as the response and species, year, and the interaction between year and species as predictors.</p>
<div class="cell">
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">bill_length_mm</span> <span class="op">~</span> <span class="va">species</span> <span class="op">+</span> <span class="va">year</span> <span class="op">+</span> <span class="va">species</span><span class="op">:</span><span class="va">year</span>, data <span class="op">=</span> <span class="va">penguins</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = bill_length_mm ~ species + year + species:year, 
    data = penguins)

Coefficients:
          (Intercept)       speciesChinstrap          speciesGentoo  
           -1.268e+02             -1.527e+02             -1.390e+03  
                 year  speciesChinstrap:year     speciesGentoo:year  
            8.248e-02              8.106e-02              6.963e-01  </code></pre>
</div>
</div>
<p>This model can also be run with the following formulae with more concise notation.</p>
<div class="cell">
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">bill_length_mm</span> <span class="op">~</span> <span class="va">species</span> <span class="op">*</span> <span class="va">year</span>, data <span class="op">=</span> <span class="va">penguins</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">bill_length_mm</span> <span class="op">~</span> <span class="op">(</span><span class="va">species</span> <span class="op">+</span> <span class="va">year</span><span class="op">)</span> <span class="op">^</span> <span class="fl">2</span>, data <span class="op">=</span> <span class="va">penguins</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>All give exactly the same result.</p>
</section><section id="greater-than-and-less-than" class="level2" data-number="27.13"><h2 data-number="27.13" class="anchored" data-anchor-id="greater-than-and-less-than">
<span class="header-section-number">27.13</span> Greater than and less than</h2>
<p>The greater than <code>&gt;</code> and less than <code>&lt;</code> characters are used in logical tests.</p>
<div class="cell">
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pi</span> <span class="op">&gt;</span> <span class="fl">22</span><span class="op">/</span><span class="fl">7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>To express greater than or equal, use <code>&gt;=</code>. <code>&lt;=</code>, for less than or equal.</p>
<p>The greater than sign is also used in the native pipe <code>|&gt;</code> (and the <code>tidyverse</code> pipe <code>%&gt;%</code>).</p>
</section><section id="hash" class="level2" data-number="27.14"><h2 data-number="27.14" class="anchored" data-anchor-id="hash">
<span class="header-section-number">27.14</span> Hash</h2>
<p>Any text after a <code>#</code> is a comment.</p>
<div class="cell">
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># this is a comment</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Comments that end with four hashes are treated as section breaks by Rstudio. These are useful for navigating long scripts.</p>
<div class="cell">
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#### this is a section break ####</span></span>
<span><span class="co"># Only needs one leading #,</span></span>
<span><span class="co"># but symmetry makes code more beautiful</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In Rstudio you can use the keyboard short-cut <kbd aria-hidden="true" data-linux="Ctrl-Shift-C" data-mac="Shift-Command-C" data-windows="Control-Shift-C"></kbd><span class="visually-hidden"></span> to comment or uncomment multiple lines of code at the same time.</p>
<p>Hashes are also used to indicate hexadecimal (base 16) numbers. These are most often used for colours, with a hash followed by three pairs of digits (0-9, A-F) representing the intensity of the red, green and blue components of the colour (a option extra pair represents alpha or transparency). Large numbers (towards FF, which is 255 when expressed as a decimal number) are more intense than low numbers.</p>
<p>Here are five colours from the viridis colour scale</p>
<div class="cell">
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">viridisLite</span><span class="fu">::</span><span class="fu"><a href="https://sjmgarnier.github.io/viridisLite/reference/viridis.html">viridis</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "#440154FF" "#3B528BFF" "#21908CFF" "#5DC863FF" "#FDE725FF"</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="060_bestiary_files/figure-html/viridis-plot-1.png" class="img-fluid figure-img" width="288"></p>
<figcaption>Viridis colours</figcaption></figure>
</div>
</div>
</div>
<p>If you want to make your own special colours, you can write the hexadecimal string by hand.</p>
</section><section id="mathematical-operators" class="level2" data-number="27.15"><h2 data-number="27.15" class="anchored" data-anchor-id="mathematical-operators">
<span class="header-section-number">27.15</span> Mathematical operators</h2>
<p>Mathematical operators have their usual meaning:</p>
<ul>
<li>
<code>a + b</code> a plus b</li>
<li>
<code>-a</code> minus a</li>
<li>
<code>a - b</code> a minus b</li>
<li>
<code>a * b</code> a times b</li>
<li>
<code>a / b</code> a divided by b</li>
<li>
<code>a ^ b</code> a to the power b</li>
</ul>
<p>Some useful but less commonly seen operators</p>
<ul>
<li>
<code>a %% b</code> a remainder b (13 %% 5 = 3). Also called the modulo operator.</li>
<li>
<code>a %/% b</code> integer division (13 %/% 5 = 2).</li>
</ul>
<p>Some of the mathematical operators are used by tidyverse and associated packages for different purposes.</p>
<p><code>ggplot2</code> uses <code>+</code> to add elements of the a plot together</p>
<div class="cell">
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">p_box</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">penguins</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">species</span>, y <span class="op">=</span> <span class="va">bill_length_mm</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Species"</span>, y <span class="op">=</span> <span class="st">"Bill length mm"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>patchwork</code> uses <code>+</code> and <code>/</code> to arrange separate plots into one combined plot, and uses <code>&amp;</code> to modify all the plots.</p>
<div class="cell">
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">p_violin</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">penguins</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">species</span>, y <span class="op">=</span> <span class="va">bill_length_mm</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_violin</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Species"</span>, y <span class="op">=</span> <span class="st">"Bill length mm"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com">patchwork</a></span><span class="op">)</span></span>
<span><span class="va">p_box</span> <span class="op">+</span> <span class="va">p_violin</span> <span class="op">&amp;</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="060_bestiary_files/figure-html/patchwork-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Boxplot and violin plot combined with <code>patchwork</code></figcaption></figure>
</div>
</div>
</div>
</section><section id="percent-signs" class="level2" data-number="27.16"><h2 data-number="27.16" class="anchored" data-anchor-id="percent-signs">
<span class="header-section-number">27.16</span> Percent signs</h2>
<p>Percent signs come in pairs and surround an infix operator. An infix operator is a special type of function that goes between two operands. For example, the integer division operator <code>13 %/% 5</code>. This can be re-written as a regular function with `<code>%/%`(13, 5)</code></p>
<p>Some important infix operators are</p>
<ul>
<li>
<code>%%</code> remainder or modulo operator</li>
<li>
<code>%/%</code> integer division</li>
<li>
<code>%in%</code> matching operator which tests if the elements of the first vector are in the second vector.</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"January"</span>, <span class="st">"Wednesday"</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">month.name</span> <span class="co"># which element of x is a name of a month</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE</code></pre>
</div>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#equivalent to, but much neater than</span></span>
<span><span class="va">x</span> <span class="op">==</span> <span class="st">"January"</span> <span class="op">|</span> <span class="va">x</span> <span class="op">==</span> <span class="st">"February"</span> <span class="op">|</span> <span class="va">x</span> <span class="op">==</span> <span class="st">"March"</span> <span class="co"># etc</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE</code></pre>
</div>
</div>
<ul>
<li>
<code>%*%</code> matrix multiplication</li>
<li>
<code>%&gt;%</code> the tidyverse pipe</li>
</ul>
<p>If you want to get help on any infix operator, you need to surround it in backticks or you get the error <code>unexpected SPECIAL in "?%in%"</code></p>
<div class="cell">
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span> <span class="op">?</span><span class="va">`%in%`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="quote-marks" class="level2" data-number="27.17"><h2 data-number="27.17" class="anchored" data-anchor-id="quote-marks">
<span class="header-section-number">27.17</span> Quote marks</h2>
<p>Strings in R need to be surrounded by quote marks. You can use single or double quote marks. If your string contains quotes, they either need to be the opposite type from those around the string, or escaped with a backslash (see <a href="#sec-backslash" class="quarto-xref"><span>Section 27.2</span></a>).</p>
<div class="cell">
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"cat"</span> <span class="co"># double quote marks</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">'cat'</span> <span class="co"># single quote marks</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"She said 'The cat.'"</span> <span class="co"># single quote marks nested in double quotes</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"She said \"The cat.\""</span> <span class="co"># escaped quote marks</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The backtick ` looks a little bit like a small quote mark. They are used to enclose names that are not legal R names.</p>
<div class="cell">
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tibble</span><span class="op">(</span>`Standard Deviation` <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 1
  `Standard Deviation`
                 &lt;dbl&gt;
1                    2</code></pre>
</div>
</div>
</section><section id="question-marks" class="level2" data-number="27.18"><h2 data-number="27.18" class="anchored" data-anchor-id="question-marks">
<span class="header-section-number">27.18</span> Question marks</h2>
<p>Use a <code>?</code> to get help on a function, for example <code><a href="https://rdrr.io/r/stats/lm.html">?lm</a></code>, which is equivalent to <code><a href="https://rdrr.io/r/stats/lm.html">help(lm)</a></code> Or <code>??</code> to get help on a topic, for example <code>??"linear models"</code>, which is equivalent to <code>help.search("linear models")</code>.</p>
<p>If you want help on something that does not start with a letter or dot, you need to surround it in backticks, for example <code>?`+</code>.</p>
</section><section id="regular-expressions" class="level2" data-number="27.19"><h2 data-number="27.19" class="anchored" data-anchor-id="regular-expressions">
<span class="header-section-number">27.19</span> Regular expressions</h2>
<p>Several characters take on a special meaning with regular expressions, including <code>^ $ ? * + () [] {} :</code>. Regular expressions are always enclosed in quote marks. See the tutorial on text manipulation for an introduction into regular expressions.</p>
</section><section id="semi-colon" class="level2" data-number="27.20"><h2 data-number="27.20" class="anchored" data-anchor-id="semi-colon">
<span class="header-section-number">27.20</span> Semi-colon</h2>
<p>The semi-colon <code>;</code> can optionally be used at the end of a line of code, but there is no advantage to doing this (in other languages it can be compulsory). It can be used to separate two R statements on the same line. This is not recommended as it can make code difficult to read.</p>
<div class="cell">
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># bad</span></span>
<span><span class="va">i</span> <span class="op">&lt;-</span> <span class="fl">7</span> <span class="op">*</span> <span class="fl">6</span>; <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># good</span></span>
<span><span class="va">i</span> <span class="op">&lt;-</span> <span class="fl">7</span> <span class="op">*</span> <span class="fl">6</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="underscore" class="level2" data-number="27.21"><h2 data-number="27.21" class="anchored" data-anchor-id="underscore">
<span class="header-section-number">27.21</span> Underscore</h2>
<p>The underscore <code>_</code> can be used in object names along with alphanumeric characters and dot. It cannot be the first character of the name. It is useful as a word separator in <code>snake_case</code>.</p>
</section><section id="white-space" class="level2" data-number="27.22"><h2 data-number="27.22" class="anchored" data-anchor-id="white-space">
<span class="header-section-number">27.22</span> White space</h2>
<p>White space is free and usually has no impact on how the code runs. Use lots of it to make your code more readable.</p>
</section><section id="section-1" class="level2 page-columns page-full" data-number="27.23"><h2 data-number="27.23" class="anchored" data-anchor-id="section-1">
<span class="header-section-number">27.23</span> @</h2>
<p>You will occasionally see an <code>@</code> in R code. They are used to subset S4 class objects, analogous to the use of <code>$</code> to subset lists and data frames. Unless you are coding your own S4 classes, you probably wonâ€™t see or use <code>@</code> very often. See <a href="https://adv-r.hadley.nz/s4.html">Chapter 15 of Advanced R</a> for more information about S4 classes.</p>


<!-- -->

<div class="no-row-height column-margin column-container"><section id="contributors" class="level3 unlisted unnumbered"><h3 class="unlisted unnumbered anchored" data-anchor-id="contributors">Contributors</h3>
<ul>
<li>Richard Telford</li>
</ul></section></div></section></main><!-- /main --><script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  var t = document.getElementsByClassName("webex-total_correct");
  for (var i = 0; i < t.length; i++) {
    p = t[i].parentElement;
    var correct = p.getElementsByClassName("webex-correct").length;
    var solvemes = p.getElementsByClassName("webex-solveme").length;
    var radiogroups = p.getElementsByClassName("webex-radiogroup").length;
    var selects = p.getElementsByClassName("webex-select").length;

    t[i].innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* check answers */
check_func = function() {
  console.log("webex: check answers");

  var cl = this.parentElement.classList;
  if (cl.contains('unchecked')) {
    cl.remove("unchecked");
    this.innerHTML = "Hide Answers";
  } else {
    cl.add("unchecked");
    this.innerHTML = "Show Answers";
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  var check_sections = document.getElementsByClassName("webex-check");
  console.log("check:", check_sections.length);
  for (var i = 0; i < check_sections.length; i++) {
    check_sections[i].classList.add("unchecked");

    let btn = document.createElement("button");
    btn.innerHTML = "Show Answers";
    btn.classList.add("webex-check-button");
    btn.onclick = check_func;
    check_sections[i].appendChild(btn);

    let spn = document.createElement("span");
    spn.classList.add("webex-total_correct");
    check_sections[i].appendChild(spn);
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    solveme[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    selects[i].insertAdjacentHTML("afterend", " <span class='webex-icon'></span>")
  }

  update_total_correct();
}

</script><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./050_missing_values.html" class="pagination-link" aria-label="Handling missing values">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Handling missing values</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb76" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="in">``` {r setup, include=FALSE}</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="in">source("R/setup.R")</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="fu"># Bestiary of Brackets and other R notation {#sec-bestiary}</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>!#@%&amp;?</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>What does that mean?</span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>This page is a guide to decoding what all the non-alphanumeric used in R mean. </span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>It covers base R use and the most common uses within <span class="in">`tidyverse`</span> and related packages.</span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a><span class="fu">## Assignment arrows</span></span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a>The usual way to assign an object to a name is to use a left-pointing arrow <span class="in">`&lt;-`</span>.</span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-18"><a href="#cb76-18" aria-hidden="true" tabindex="-1"></a><span class="in">```{r left-assign}</span></span>
<span id="cb76-19"><a href="#cb76-19" aria-hidden="true" tabindex="-1"></a><span class="in">x &lt;- 42 # This will assign the value 42 to the name x</span></span>
<span id="cb76-20"><a href="#cb76-20" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-21"><a href="#cb76-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-22"><a href="#cb76-22" aria-hidden="true" tabindex="-1"></a>The keyboard short-cut for the assign arrow is {{&lt; kbd mac=Option-- win=Alt-- linux=Alt-- &gt;}}.</span>
<span id="cb76-23"><a href="#cb76-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-24"><a href="#cb76-24" aria-hidden="true" tabindex="-1"></a>It is also possible to use right-pointing arrows <span class="in">`-&gt;`</span>.</span>
<span id="cb76-25"><a href="#cb76-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-26"><a href="#cb76-26" aria-hidden="true" tabindex="-1"></a><span class="in">```{r right-assign}</span></span>
<span id="cb76-27"><a href="#cb76-27" aria-hidden="true" tabindex="-1"></a><span class="in">42 -&gt; x # This will assign the value 42 to the name x</span></span>
<span id="cb76-28"><a href="#cb76-28" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-29"><a href="#cb76-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-30"><a href="#cb76-30" aria-hidden="true" tabindex="-1"></a>This is not recommended because it makes code difficult to read.</span>
<span id="cb76-31"><a href="#cb76-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-32"><a href="#cb76-32" aria-hidden="true" tabindex="-1"></a><span class="fu">## Backslash {#sec-backslash}</span></span>
<span id="cb76-33"><a href="#cb76-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-34"><a href="#cb76-34" aria-hidden="true" tabindex="-1"></a>Some characters cannot be directly represented in character strings so an escape sequence is used instead.</span>
<span id="cb76-35"><a href="#cb76-35" aria-hidden="true" tabindex="-1"></a>Escape sequences always start with the backslash character <span class="in">`\`</span>.</span>
<span id="cb76-36"><a href="#cb76-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-37"><a href="#cb76-37" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`\n`</span> new line</span>
<span id="cb76-38"><a href="#cb76-38" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`\t`</span> tab (very useful for importing tab-delimited files with <span class="in">`read_delim`</span>)</span>
<span id="cb76-39"><a href="#cb76-39" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`\\`</span> backslash</span>
<span id="cb76-40"><a href="#cb76-40" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`\U1F600`</span> including Unicode or emoji <span class="dv">&amp;#x1F600;</span> </span>
<span id="cb76-41"><a href="#cb76-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-42"><a href="#cb76-42" aria-hidden="true" tabindex="-1"></a>If you want to use a literal backslash in a character string, it needs to be escaped with another backslash.</span>
<span id="cb76-43"><a href="#cb76-43" aria-hidden="true" tabindex="-1"></a>Note that <span class="in">`print`</span> shows the contents of the string, including the backslashes, while <span class="in">`cat`</span> shows what would be shows by ggplot etc.</span>
<span id="cb76-44"><a href="#cb76-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-45"><a href="#cb76-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-46"><a href="#cb76-46" aria-hidden="true" tabindex="-1"></a><span class="in">```{r backslash}</span></span>
<span id="cb76-47"><a href="#cb76-47" aria-hidden="true" tabindex="-1"></a><span class="in">x &lt;- "Backslash-n gives a newline\nThis is a literal backslash '\\'"</span></span>
<span id="cb76-48"><a href="#cb76-48" aria-hidden="true" tabindex="-1"></a><span class="in">print(x)</span></span>
<span id="cb76-49"><a href="#cb76-49" aria-hidden="true" tabindex="-1"></a><span class="in">cat(x)</span></span>
<span id="cb76-50"><a href="#cb76-50" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-51"><a href="#cb76-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-52"><a href="#cb76-52" aria-hidden="true" tabindex="-1"></a>Backslashes can also be used to declare a function.</span>
<span id="cb76-53"><a href="#cb76-53" aria-hidden="true" tabindex="-1"></a>Functions are normally declared with the keyword function</span>
<span id="cb76-54"><a href="#cb76-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-57"><a href="#cb76-57" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb76-58"><a href="#cb76-58" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb76-59"><a href="#cb76-59" aria-hidden="true" tabindex="-1"></a>my_function <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {x <span class="sc">+</span> <span class="dv">1</span>} <span class="co"># adds 1 to x</span></span>
<span id="cb76-60"><a href="#cb76-60" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-61"><a href="#cb76-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-62"><a href="#cb76-62" aria-hidden="true" tabindex="-1"></a>This is equivalent to </span>
<span id="cb76-63"><a href="#cb76-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-66"><a href="#cb76-66" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb76-67"><a href="#cb76-67" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb76-68"><a href="#cb76-68" aria-hidden="true" tabindex="-1"></a>my_function <span class="ot">&lt;-</span> \(x) {x <span class="sc">+</span> <span class="dv">1</span>}</span>
<span id="cb76-69"><a href="#cb76-69" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-70"><a href="#cb76-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-71"><a href="#cb76-71" aria-hidden="true" tabindex="-1"></a>This notation makes function declarations more concise and is especially useful for anonymous functions.</span>
<span id="cb76-72"><a href="#cb76-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-73"><a href="#cb76-73" aria-hidden="true" tabindex="-1"></a><span class="fu">## Brackets</span></span>
<span id="cb76-74"><a href="#cb76-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-75"><a href="#cb76-75" aria-hidden="true" tabindex="-1"></a>Three different types of bracket are used in R.</span>
<span id="cb76-76"><a href="#cb76-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-77"><a href="#cb76-77" aria-hidden="true" tabindex="-1"></a>The round brackets <span class="in">`()`</span> are used to contain all the arguments to a function.</span>
<span id="cb76-78"><a href="#cb76-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-79"><a href="#cb76-79" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = FALSE}</span></span>
<span id="cb76-80"><a href="#cb76-80" aria-hidden="true" tabindex="-1"></a><span class="in">rnorm(n = 10, mean = 10)</span></span>
<span id="cb76-81"><a href="#cb76-81" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-82"><a href="#cb76-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-83"><a href="#cb76-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-84"><a href="#cb76-84" aria-hidden="true" tabindex="-1"></a>Round brackets <span class="in">`()`</span> are also used to force the order of operations in an calculation or Boolean logic.</span>
<span id="cb76-85"><a href="#cb76-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-86"><a href="#cb76-86" aria-hidden="true" tabindex="-1"></a><span class="in">```{r order}</span></span>
<span id="cb76-87"><a href="#cb76-87" aria-hidden="true" tabindex="-1"></a><span class="in">9 * 6 + 5 # 59</span></span>
<span id="cb76-88"><a href="#cb76-88" aria-hidden="true" tabindex="-1"></a><span class="in">9 * (6 + 5) # 99</span></span>
<span id="cb76-89"><a href="#cb76-89" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-90"><a href="#cb76-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-91"><a href="#cb76-91" aria-hidden="true" tabindex="-1"></a>Single square brackets <span class="in">`[]`</span> are used for sub-setting vectors, matrices and similar objects.</span>
<span id="cb76-92"><a href="#cb76-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-93"><a href="#cb76-93" aria-hidden="true" tabindex="-1"></a><span class="in">```{r square-bracket}</span></span>
<span id="cb76-94"><a href="#cb76-94" aria-hidden="true" tabindex="-1"></a><span class="in"># extract the 6th and 7th element of month.name</span></span>
<span id="cb76-95"><a href="#cb76-95" aria-hidden="true" tabindex="-1"></a><span class="in">month.name[6:7]</span></span>
<span id="cb76-96"><a href="#cb76-96" aria-hidden="true" tabindex="-1"></a><span class="in"># extract first element of species column (dplyr gives neater ways to do this)</span></span>
<span id="cb76-97"><a href="#cb76-97" aria-hidden="true" tabindex="-1"></a><span class="in">penguins[1, "species"]</span></span>
<span id="cb76-98"><a href="#cb76-98" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-99"><a href="#cb76-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-100"><a href="#cb76-100" aria-hidden="true" tabindex="-1"></a>Double square brackets are used to extract elements from a list</span>
<span id="cb76-101"><a href="#cb76-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-104"><a href="#cb76-104" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb76-105"><a href="#cb76-105" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span>, <span class="at">b =</span> <span class="cn">TRUE</span>)</span>
<span id="cb76-106"><a href="#cb76-106" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>] <span class="co"># single square bracket returns a list - see the $a</span></span>
<span id="cb76-107"><a href="#cb76-107" aria-hidden="true" tabindex="-1"></a>x[[<span class="dv">1</span>]] <span class="co"># double square bracket returns element directly</span></span>
<span id="cb76-108"><a href="#cb76-108" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-109"><a href="#cb76-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-110"><a href="#cb76-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-111"><a href="#cb76-111" aria-hidden="true" tabindex="-1"></a>Curly brackets or braces <span class="in">`{}`</span> are used to keep code that needs to be run together as a single expression.</span>
<span id="cb76-112"><a href="#cb76-112" aria-hidden="true" tabindex="-1"></a>This is commonly done when writing a function</span>
<span id="cb76-113"><a href="#cb76-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-114"><a href="#cb76-114" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, results='hide'}</span></span>
<span id="cb76-115"><a href="#cb76-115" aria-hidden="true" tabindex="-1"></a><span class="in">cylinder_volume &lt;- function(radius = 1, height) {</span></span>
<span id="cb76-116"><a href="#cb76-116" aria-hidden="true" tabindex="-1"></a><span class="in">  radius ^ 2 * pi * height</span></span>
<span id="cb76-117"><a href="#cb76-117" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb76-118"><a href="#cb76-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-119"><a href="#cb76-119" aria-hidden="true" tabindex="-1"></a><span class="in">cylinder_volume(height = 2)</span></span>
<span id="cb76-120"><a href="#cb76-120" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-121"><a href="#cb76-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-122"><a href="#cb76-122" aria-hidden="true" tabindex="-1"></a>or when writing an <span class="in">`if`</span> statement</span>
<span id="cb76-123"><a href="#cb76-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-124"><a href="#cb76-124" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = FALSE}</span></span>
<span id="cb76-125"><a href="#cb76-125" aria-hidden="true" tabindex="-1"></a><span class="in">if (logical_condition) {</span></span>
<span id="cb76-126"><a href="#cb76-126" aria-hidden="true" tabindex="-1"></a><span class="in">  #some code to run if logical_condition is TRUE</span></span>
<span id="cb76-127"><a href="#cb76-127" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb76-128"><a href="#cb76-128" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-129"><a href="#cb76-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-130"><a href="#cb76-130" aria-hidden="true" tabindex="-1"></a>Curly brackets are also used in the <span class="in">`glue`</span> package, an easy to use alternative to <span class="in">`paste`</span>. </span>
<span id="cb76-131"><a href="#cb76-131" aria-hidden="true" tabindex="-1"></a>The curly brackets demarcate R code to include in the output.</span>
<span id="cb76-132"><a href="#cb76-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-135"><a href="#cb76-135" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb76-136"><a href="#cb76-136" aria-hidden="true" tabindex="-1"></a>glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"The penguins dataset has {nrow(penguins)} rows"</span>)</span>
<span id="cb76-137"><a href="#cb76-137" aria-hidden="true" tabindex="-1"></a><span class="co"># base R alternative gets clunky fast</span></span>
<span id="cb76-138"><a href="#cb76-138" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"The penguins dataset has"</span>, <span class="fu">nrow</span>(penguins), <span class="st">"rows"</span>)</span>
<span id="cb76-139"><a href="#cb76-139" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-140"><a href="#cb76-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-141"><a href="#cb76-141" aria-hidden="true" tabindex="-1"></a>Double curly brackets <span class="in">`{{}}`</span> are used programming with <span class="in">`tidyverse`</span>.</span>
<span id="cb76-142"><a href="#cb76-142" aria-hidden="true" tabindex="-1"></a>See the <span class="in">`dplyr`</span> programming vignette for details.</span>
<span id="cb76-143"><a href="#cb76-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-144"><a href="#cb76-144" aria-hidden="true" tabindex="-1"></a><span class="fu">## Boolean operators</span></span>
<span id="cb76-145"><a href="#cb76-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-146"><a href="#cb76-146" aria-hidden="true" tabindex="-1"></a>Boolean operators are used to combine logical tests. </span>
<span id="cb76-147"><a href="#cb76-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-148"><a href="#cb76-148" aria-hidden="true" tabindex="-1"></a>If <span class="in">`a`</span> and <span class="in">`b`</span> are logical vectors (i.e. TRUE and FALSE), or vectors that can be coerced to logical vectors, then</span>
<span id="cb76-149"><a href="#cb76-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-150"><a href="#cb76-150" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`!a`</span> NOT a</span>
<span id="cb76-151"><a href="#cb76-151" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`a &amp; b`</span> a AND b</span>
<span id="cb76-152"><a href="#cb76-152" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`a | b`</span> a OR b</span>
<span id="cb76-153"><a href="#cb76-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-154"><a href="#cb76-154" aria-hidden="true" tabindex="-1"></a>Boolean operators can be combined to form complex statements. </span>
<span id="cb76-155"><a href="#cb76-155" aria-hidden="true" tabindex="-1"></a>Round brackets can be used to force the order of evaluation</span>
<span id="cb76-156"><a href="#cb76-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-159"><a href="#cb76-159" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb76-160"><a href="#cb76-160" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb76-161"><a href="#cb76-161" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">|</span> x <span class="sc">&lt;</span> <span class="dv">20</span>  <span class="co"># is x between 0 and 20</span></span>
<span id="cb76-162"><a href="#cb76-162" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">|</span> x <span class="sc">&lt;</span> <span class="dv">20</span>  <span class="sc">&amp;</span> x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">1</span> <span class="co"># is x an odd number between 0 and 20. Wrong order of evaluation.</span></span>
<span id="cb76-163"><a href="#cb76-163" aria-hidden="true" tabindex="-1"></a>(x <span class="sc">&lt;</span> <span class="dv">20</span> <span class="sc">|</span> x <span class="sc">&gt;</span> <span class="dv">0</span>)  <span class="sc">&amp;</span> x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">1</span> <span class="co"># Brackets force correct order.</span></span>
<span id="cb76-164"><a href="#cb76-164" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-165"><a href="#cb76-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-166"><a href="#cb76-166" aria-hidden="true" tabindex="-1"></a>It is probably a good idea to always use brackets in statements with multiple Boolean operators to make the order of evaluation clear to the reader. </span>
<span id="cb76-167"><a href="#cb76-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-168"><a href="#cb76-168" aria-hidden="true" tabindex="-1"></a>You will also see doubled up <span class="in">`||`</span> and <span class="in">`&amp;&amp;`</span> operators. </span>
<span id="cb76-169"><a href="#cb76-169" aria-hidden="true" tabindex="-1"></a>These are special Boolean operators that only return the first element of any vector of results. This is useful with <span class="in">`if`</span> statements which want only a single TRUE or FALSE.</span>
<span id="cb76-170"><a href="#cb76-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-171"><a href="#cb76-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-172"><a href="#cb76-172" aria-hidden="true" tabindex="-1"></a><span class="fu">## Colons</span></span>
<span id="cb76-173"><a href="#cb76-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-174"><a href="#cb76-174" aria-hidden="true" tabindex="-1"></a>A single colon <span class="in">`:`</span> is used to get a sequence between two values with a step size of one.</span>
<span id="cb76-175"><a href="#cb76-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-176"><a href="#cb76-176" aria-hidden="true" tabindex="-1"></a><span class="in">```{r colon}</span></span>
<span id="cb76-177"><a href="#cb76-177" aria-hidden="true" tabindex="-1"></a><span class="in">1:10</span></span>
<span id="cb76-178"><a href="#cb76-178" aria-hidden="true" tabindex="-1"></a><span class="in">#equivalent to</span></span>
<span id="cb76-179"><a href="#cb76-179" aria-hidden="true" tabindex="-1"></a><span class="in">seq(from = 1, to = 10, by = 1)</span></span>
<span id="cb76-180"><a href="#cb76-180" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-181"><a href="#cb76-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-182"><a href="#cb76-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-183"><a href="#cb76-183" aria-hidden="true" tabindex="-1"></a>A single colon is also used when detaching a package which is almost, but not quite, the opposite of running <span class="in">`library`</span>.</span>
<span id="cb76-184"><a href="#cb76-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-185"><a href="#cb76-185" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = FALSE}</span></span>
<span id="cb76-186"><a href="#cb76-186" aria-hidden="true" tabindex="-1"></a><span class="in">library(mgcv) # loads mgcv package</span></span>
<span id="cb76-187"><a href="#cb76-187" aria-hidden="true" tabindex="-1"></a><span class="in">detach("package:mgcv")</span></span>
<span id="cb76-188"><a href="#cb76-188" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-189"><a href="#cb76-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-190"><a href="#cb76-190" aria-hidden="true" tabindex="-1"></a>Because <span class="in">`detach`</span> is not exactly the opposite of <span class="in">`library`</span>, it is normally better to restart the R session (In Rstudio go to 'Session' then 'Restart R').</span>
<span id="cb76-191"><a href="#cb76-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-192"><a href="#cb76-192" aria-hidden="true" tabindex="-1"></a>Double colons <span class="in">`::`</span> let you use a single function from a package without loading the entire package. </span>
<span id="cb76-193"><a href="#cb76-193" aria-hidden="true" tabindex="-1"></a>For example, <span class="in">`readxl::read_excel()`</span> will run <span class="in">`read_excel()`</span>.</span>
<span id="cb76-194"><a href="#cb76-194" aria-hidden="true" tabindex="-1"></a>This can prevent conflicts between functions with the same name in different packages, or make code clearer by being explicit where a function comes from.</span>
<span id="cb76-195"><a href="#cb76-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-196"><a href="#cb76-196" aria-hidden="true" tabindex="-1"></a>Triple colons <span class="in">`:::`</span> are used to access a package's internal functions. </span>
<span id="cb76-197"><a href="#cb76-197" aria-hidden="true" tabindex="-1"></a>This can be useful to access the help file or to view the code, but you should not rely on the internal functions staying the same.</span>
<span id="cb76-198"><a href="#cb76-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-199"><a href="#cb76-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-200"><a href="#cb76-200" aria-hidden="true" tabindex="-1"></a><span class="fu">## Commas</span></span>
<span id="cb76-201"><a href="#cb76-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-202"><a href="#cb76-202" aria-hidden="true" tabindex="-1"></a>Arguments in a function need to be separated by a comma.</span>
<span id="cb76-203"><a href="#cb76-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-206"><a href="#cb76-206" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb76-207"><a href="#cb76-207" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">1</span>, <span class="at">sd =</span> <span class="fl">0.5</span>)</span>
<span id="cb76-208"><a href="#cb76-208" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-209"><a href="#cb76-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-210"><a href="#cb76-210" aria-hidden="true" tabindex="-1"></a>If you forget to use a comma, you will get a reminder from R, and Rstudio should underline the problem.</span>
<span id="cb76-211"><a href="#cb76-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-212"><a href="#cb76-212" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, error= TRUE}</span></span>
<span id="cb76-213"><a href="#cb76-213" aria-hidden="true" tabindex="-1"></a><span class="in">x &lt;- rnorm(n = 10, mean = 1 sd = 0.5)</span></span>
<span id="cb76-214"><a href="#cb76-214" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-215"><a href="#cb76-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-216"><a href="#cb76-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-217"><a href="#cb76-217" aria-hidden="true" tabindex="-1"></a><span class="al">![Rstudio puts a cross in the margin and underlines the unexpected text after the missing comma.](figures/missing_comma.png)</span></span>
<span id="cb76-218"><a href="#cb76-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-219"><a href="#cb76-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-220"><a href="#cb76-220" aria-hidden="true" tabindex="-1"></a><span class="fu">## Dot</span></span>
<span id="cb76-221"><a href="#cb76-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-222"><a href="#cb76-222" aria-hidden="true" tabindex="-1"></a>The dot <span class="in">`.`</span> is used as the decimal separator in R, for example in <span class="in">`r pi`</span>.</span>
<span id="cb76-223"><a href="#cb76-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-224"><a href="#cb76-224" aria-hidden="true" tabindex="-1"></a>Object names can have a dot in them.</span>
<span id="cb76-225"><a href="#cb76-225" aria-hidden="true" tabindex="-1"></a>If the name starts with a dot, the object is invisible and won't show up in the environment tab in Rstudio.</span>
<span id="cb76-226"><a href="#cb76-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-227"><a href="#cb76-227" aria-hidden="true" tabindex="-1"></a>Dots in function names can be decorative, but can also be used by R to determine which function needs to be used for each type of object.</span>
<span id="cb76-228"><a href="#cb76-228" aria-hidden="true" tabindex="-1"></a>For example, there is a <span class="in">`summary.lm()`</span> and an <span class="in">`anova.lm()`</span> which process <span class="in">`lm`</span> class objects generated by the function <span class="in">`lm()`</span>.</span>
<span id="cb76-229"><a href="#cb76-229" aria-hidden="true" tabindex="-1"></a>There are also <span class="in">`glm()`</span>, <span class="in">`lme()`</span>, and many other versions of these functions available to process different classes of objects.</span>
<span id="cb76-230"><a href="#cb76-230" aria-hidden="true" tabindex="-1"></a>When you run <span class="in">`summary()`</span> or <span class="in">`anova()`</span>, which are known as a generic functions, R will automatically select the correct version to use based on the class of object given. </span>
<span id="cb76-231"><a href="#cb76-231" aria-hidden="true" tabindex="-1"></a>You can find out the class of an object my using the function <span class="in">`class()`</span>.</span>
<span id="cb76-232"><a href="#cb76-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-233"><a href="#cb76-233" aria-hidden="true" tabindex="-1"></a><span class="fu">## ...</span></span>
<span id="cb76-234"><a href="#cb76-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-235"><a href="#cb76-235" aria-hidden="true" tabindex="-1"></a>You will often see three dots <span class="in">`...`</span> in a function's arguments.</span>
<span id="cb76-236"><a href="#cb76-236" aria-hidden="true" tabindex="-1"></a>These are used when the name (and number) of arguments is not known in advance.</span>
<span id="cb76-237"><a href="#cb76-237" aria-hidden="true" tabindex="-1"></a>For example, the function<span class="in">`c()`</span> has <span class="in">`...`</span> in its arguments, allowing you to put any number of objects with any names into the function to make a vector.</span>
<span id="cb76-238"><a href="#cb76-238" aria-hidden="true" tabindex="-1"></a>The three dots are often used by generic functions because the different versions of the function for different classes of object need different arguments.</span>
<span id="cb76-239"><a href="#cb76-239" aria-hidden="true" tabindex="-1"></a>In <span class="in">`dplyr`</span>, the dots are used for the column names of the data frame or tibble being processed.</span>
<span id="cb76-240"><a href="#cb76-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-241"><a href="#cb76-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-242"><a href="#cb76-242" aria-hidden="true" tabindex="-1"></a><span class="fu">## Dollars</span></span>
<span id="cb76-243"><a href="#cb76-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-244"><a href="#cb76-244" aria-hidden="true" tabindex="-1"></a>The dollar symbol <span class="in">`$`</span> is used to subset lists. </span>
<span id="cb76-245"><a href="#cb76-245" aria-hidden="true" tabindex="-1"></a>Many objects in R, including data frames, are special types of lists.</span>
<span id="cb76-246"><a href="#cb76-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-247"><a href="#cb76-247" aria-hidden="true" tabindex="-1"></a><span class="in">```{r dollar}</span></span>
<span id="cb76-248"><a href="#cb76-248" aria-hidden="true" tabindex="-1"></a><span class="in">x &lt;- list(a = 1, b = TRUE)</span></span>
<span id="cb76-249"><a href="#cb76-249" aria-hidden="true" tabindex="-1"></a><span class="in">x$a</span></span>
<span id="cb76-250"><a href="#cb76-250" aria-hidden="true" tabindex="-1"></a><span class="in">penguins$species[1:3] # just the first few elements</span></span>
<span id="cb76-251"><a href="#cb76-251" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-252"><a href="#cb76-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-253"><a href="#cb76-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-254"><a href="#cb76-254" aria-hidden="true" tabindex="-1"></a><span class="fu">## Equals sign</span></span>
<span id="cb76-255"><a href="#cb76-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-256"><a href="#cb76-256" aria-hidden="true" tabindex="-1"></a>One equals sign <span class="in">`=`</span> is used to assign a value to an argument in a function</span>
<span id="cb76-257"><a href="#cb76-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-258"><a href="#cb76-258" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = FALSE}</span></span>
<span id="cb76-259"><a href="#cb76-259" aria-hidden="true" tabindex="-1"></a><span class="in">rnorm(n = 10, mean = 0)</span></span>
<span id="cb76-260"><a href="#cb76-260" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-261"><a href="#cb76-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-262"><a href="#cb76-262" aria-hidden="true" tabindex="-1"></a>One equals sign can be used instead of the assignment arrow, but the intent of the arrow is clearer.</span>
<span id="cb76-263"><a href="#cb76-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-264"><a href="#cb76-264" aria-hidden="true" tabindex="-1"></a>Two equals signs <span class="in">`==`</span> are used as a test of exact equality.</span>
<span id="cb76-265"><a href="#cb76-265" aria-hidden="true" tabindex="-1"></a>This test is sensitive to numerical impression in floating point numbers (numbers which have a decimal point).</span>
<span id="cb76-266"><a href="#cb76-266" aria-hidden="true" tabindex="-1"></a>It can be safer to use <span class="in">`near`</span> for numeric values as this has a built in tolerance.</span>
<span id="cb76-267"><a href="#cb76-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-268"><a href="#cb76-268" aria-hidden="true" tabindex="-1"></a><span class="in">```{r equality}</span></span>
<span id="cb76-269"><a href="#cb76-269" aria-hidden="true" tabindex="-1"></a><span class="in">2 == sqrt(2) ^ 2 # see 2 - sqrt(2) ^ 2</span></span>
<span id="cb76-270"><a href="#cb76-270" aria-hidden="true" tabindex="-1"></a><span class="in">near(2, sqrt(2) ^ 2)</span></span>
<span id="cb76-271"><a href="#cb76-271" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-272"><a href="#cb76-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-273"><a href="#cb76-273" aria-hidden="true" tabindex="-1"></a>It is a very common mistake to use one equals sign rather than two. </span>
<span id="cb76-274"><a href="#cb76-274" aria-hidden="true" tabindex="-1"></a><span class="in">`filter`</span> in <span class="in">`dplyr`</span> gives a helpful error message</span>
<span id="cb76-275"><a href="#cb76-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-276"><a href="#cb76-276" aria-hidden="true" tabindex="-1"></a><span class="in">```{r one-equals, error = TRUE}</span></span>
<span id="cb76-277"><a href="#cb76-277" aria-hidden="true" tabindex="-1"></a><span class="in">penguins |&gt; filter(year = 2007)</span></span>
<span id="cb76-278"><a href="#cb76-278" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-279"><a href="#cb76-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-280"><a href="#cb76-280" aria-hidden="true" tabindex="-1"></a><span class="fu">## File paths</span></span>
<span id="cb76-281"><a href="#cb76-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-282"><a href="#cb76-282" aria-hidden="true" tabindex="-1"></a>When you want to import data from or save a file to a, a directory (folder) other than the working directory (usually where you RStudio project .rproj file is), you need to specify the path.</span>
<span id="cb76-283"><a href="#cb76-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-284"><a href="#cb76-284" aria-hidden="true" tabindex="-1"></a>The directory name need to be separated from the file name by a forwards slash <span class="in">`/`</span>.</span>
<span id="cb76-285"><a href="#cb76-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-286"><a href="#cb76-286" aria-hidden="true" tabindex="-1"></a><span class="in">```{r path-file, eval = FALSE}</span></span>
<span id="cb76-287"><a href="#cb76-287" aria-hidden="true" tabindex="-1"></a><span class="in">"my_directory/my_file.csv"</span></span>
<span id="cb76-288"><a href="#cb76-288" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-289"><a href="#cb76-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-290"><a href="#cb76-290" aria-hidden="true" tabindex="-1"></a>If you use a backslash by mistake, you will get an error, because the <span class="co">[</span><span class="ot">backslash</span><span class="co">](backslash)</span> is the escape character.</span>
<span id="cb76-291"><a href="#cb76-291" aria-hidden="true" tabindex="-1"></a>You will sometimes see a double backslash used as a path separator, but this is not recommended.</span>
<span id="cb76-292"><a href="#cb76-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-293"><a href="#cb76-293" aria-hidden="true" tabindex="-1"></a>You can also use the function <span class="in">`file.path()`</span> to generate paths to files.</span>
<span id="cb76-294"><a href="#cb76-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-297"><a href="#cb76-297" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb76-298"><a href="#cb76-298" aria-hidden="true" tabindex="-1"></a><span class="fu">file.path</span>(<span class="st">"my_directory"</span>, <span class="st">"my_file.csv"</span>)</span>
<span id="cb76-299"><a href="#cb76-299" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-300"><a href="#cb76-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-301"><a href="#cb76-301" aria-hidden="true" tabindex="-1"></a>If you want to read a file from the directory above the working directory, you can use <span class="in">`../my_file.csv`</span>, where <span class="in">`..`</span> means go up one, but you should probably use the <span class="in">`here`</span> package.</span>
<span id="cb76-302"><a href="#cb76-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-303"><a href="#cb76-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-304"><a href="#cb76-304" aria-hidden="true" tabindex="-1"></a><span class="fu">## Formula notation</span></span>
<span id="cb76-305"><a href="#cb76-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-306"><a href="#cb76-306" aria-hidden="true" tabindex="-1"></a>Formulae are mainly used in regression models, but also in plotting (base plot and <span class="in">`facet_wrap()`</span>) and some other functions.</span>
<span id="cb76-307"><a href="#cb76-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-308"><a href="#cb76-308" aria-hidden="true" tabindex="-1"></a>Formula always have a tilde <span class="in">`~`</span>. </span>
<span id="cb76-309"><a href="#cb76-309" aria-hidden="true" tabindex="-1"></a>The response (if any) goes to the left of the tilde, and the predictors to the right.</span>
<span id="cb76-310"><a href="#cb76-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-311"><a href="#cb76-311" aria-hidden="true" tabindex="-1"></a>Other characters that can be used in formula include <span class="in">`* + | / : ^`</span> which take on a different meaning from their usual meaning. </span>
<span id="cb76-312"><a href="#cb76-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-313"><a href="#cb76-313" aria-hidden="true" tabindex="-1"></a>The following linear model has a formula that has bill length as the response and species, year, and the interaction between year and species as predictors.</span>
<span id="cb76-314"><a href="#cb76-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-315"><a href="#cb76-315" aria-hidden="true" tabindex="-1"></a><span class="in">```{r formula}</span></span>
<span id="cb76-316"><a href="#cb76-316" aria-hidden="true" tabindex="-1"></a><span class="in">lm(bill_length_mm ~ species + year + species:year, data = penguins)</span></span>
<span id="cb76-317"><a href="#cb76-317" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-318"><a href="#cb76-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-319"><a href="#cb76-319" aria-hidden="true" tabindex="-1"></a>This model can also be run with the following formulae with more concise notation.</span>
<span id="cb76-320"><a href="#cb76-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-321"><a href="#cb76-321" aria-hidden="true" tabindex="-1"></a><span class="in">```{r formula2, eval = FALSE}</span></span>
<span id="cb76-322"><a href="#cb76-322" aria-hidden="true" tabindex="-1"></a><span class="in">lm(bill_length_mm ~ species * year, data = penguins)</span></span>
<span id="cb76-323"><a href="#cb76-323" aria-hidden="true" tabindex="-1"></a><span class="in">lm(bill_length_mm ~ (species + year) ^ 2, data = penguins)</span></span>
<span id="cb76-324"><a href="#cb76-324" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-325"><a href="#cb76-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-326"><a href="#cb76-326" aria-hidden="true" tabindex="-1"></a>All give exactly the same result.</span>
<span id="cb76-327"><a href="#cb76-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-328"><a href="#cb76-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-329"><a href="#cb76-329" aria-hidden="true" tabindex="-1"></a><span class="fu">## Greater than and less than</span></span>
<span id="cb76-330"><a href="#cb76-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-331"><a href="#cb76-331" aria-hidden="true" tabindex="-1"></a>The greater than <span class="in">`&gt;`</span> and less than <span class="in">`&lt;`</span> characters are used in logical tests.</span>
<span id="cb76-332"><a href="#cb76-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-335"><a href="#cb76-335" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb76-336"><a href="#cb76-336" aria-hidden="true" tabindex="-1"></a>pi <span class="sc">&gt;</span> <span class="dv">22</span><span class="sc">/</span><span class="dv">7</span></span>
<span id="cb76-337"><a href="#cb76-337" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-338"><a href="#cb76-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-339"><a href="#cb76-339" aria-hidden="true" tabindex="-1"></a>To express greater than or equal, use <span class="in">`&gt;=`</span>. </span>
<span id="cb76-340"><a href="#cb76-340" aria-hidden="true" tabindex="-1"></a><span class="in">`&lt;=`</span>, for less than or equal.</span>
<span id="cb76-341"><a href="#cb76-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-342"><a href="#cb76-342" aria-hidden="true" tabindex="-1"></a>The greater than sign is also used in the native pipe <span class="in">`|&gt;`</span> (and the <span class="in">`tidyverse`</span> pipe <span class="in">`%&gt;%`</span>).</span>
<span id="cb76-343"><a href="#cb76-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-344"><a href="#cb76-344" aria-hidden="true" tabindex="-1"></a><span class="fu">## Hash</span></span>
<span id="cb76-345"><a href="#cb76-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-346"><a href="#cb76-346" aria-hidden="true" tabindex="-1"></a>Any text after a <span class="in">`#`</span> is a comment.</span>
<span id="cb76-347"><a href="#cb76-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-350"><a href="#cb76-350" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb76-351"><a href="#cb76-351" aria-hidden="true" tabindex="-1"></a><span class="co"># this is a comment</span></span>
<span id="cb76-352"><a href="#cb76-352" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-353"><a href="#cb76-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-354"><a href="#cb76-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-355"><a href="#cb76-355" aria-hidden="true" tabindex="-1"></a>Comments that end with four hashes are treated as section breaks by Rstudio. </span>
<span id="cb76-356"><a href="#cb76-356" aria-hidden="true" tabindex="-1"></a>These are useful for navigating long scripts.</span>
<span id="cb76-357"><a href="#cb76-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-360"><a href="#cb76-360" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb76-361"><a href="#cb76-361" aria-hidden="true" tabindex="-1"></a><span class="do">#### this is a section break ####</span></span>
<span id="cb76-362"><a href="#cb76-362" aria-hidden="true" tabindex="-1"></a><span class="co"># Only needs one leading #,</span></span>
<span id="cb76-363"><a href="#cb76-363" aria-hidden="true" tabindex="-1"></a><span class="co"># but symmetry makes code more beautiful</span></span>
<span id="cb76-364"><a href="#cb76-364" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-365"><a href="#cb76-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-366"><a href="#cb76-366" aria-hidden="true" tabindex="-1"></a>In Rstudio you can use the keyboard short-cut  {{&lt; kbd mac=Shift-Command-C win=Control-Shift-C linux=Ctrl-Shift-C &gt;}} to comment or uncomment multiple lines of code at the same time.</span>
<span id="cb76-367"><a href="#cb76-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-368"><a href="#cb76-368" aria-hidden="true" tabindex="-1"></a>Hashes are also used to indicate hexadecimal (base 16) numbers.</span>
<span id="cb76-369"><a href="#cb76-369" aria-hidden="true" tabindex="-1"></a>These are most often used for colours, with a hash followed by three pairs of digits (0-9, A-F) representing the intensity of the red, green and blue components of the colour (a option extra pair represents alpha or transparency). </span>
<span id="cb76-370"><a href="#cb76-370" aria-hidden="true" tabindex="-1"></a>Large numbers (towards FF, which is 255 when expressed as a decimal number) are more intense than low numbers.</span>
<span id="cb76-371"><a href="#cb76-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-372"><a href="#cb76-372" aria-hidden="true" tabindex="-1"></a>Here are five colours from the viridis colour scale</span>
<span id="cb76-373"><a href="#cb76-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-374"><a href="#cb76-374" aria-hidden="true" tabindex="-1"></a><span class="in">```{r viridis}</span></span>
<span id="cb76-375"><a href="#cb76-375" aria-hidden="true" tabindex="-1"></a><span class="in">viridisLite::viridis(n = 5)</span></span>
<span id="cb76-376"><a href="#cb76-376" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-377"><a href="#cb76-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-378"><a href="#cb76-378" aria-hidden="true" tabindex="-1"></a><span class="in">```{r viridis-plot, fig.cap = "Viridis colours", fig.height = 3, fig.width=3, echo = FALSE}</span></span>
<span id="cb76-379"><a href="#cb76-379" aria-hidden="true" tabindex="-1"></a><span class="in">tibble(x = viridisLite::viridis(n = 5)) |&gt;</span></span>
<span id="cb76-380"><a href="#cb76-380" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = factor(x, levels = rev(x)), y = 1, label = x, fill = I(x))) +</span></span>
<span id="cb76-381"><a href="#cb76-381" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_col(show.legend = FALSE) +</span></span>
<span id="cb76-382"><a href="#cb76-382" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_text(y = 0.5, angle = 0,</span></span>
<span id="cb76-383"><a href="#cb76-383" aria-hidden="true" tabindex="-1"></a><span class="in">            aes(colour = I(c(rep("white", 2), rep("black", 3)))),</span></span>
<span id="cb76-384"><a href="#cb76-384" aria-hidden="true" tabindex="-1"></a><span class="in">            show.legend = FALSE, size = 6) +</span></span>
<span id="cb76-385"><a href="#cb76-385" aria-hidden="true" tabindex="-1"></a><span class="in">  coord_flip() +</span></span>
<span id="cb76-386"><a href="#cb76-386" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_discrete(expand = c(0, 0)) +</span></span>
<span id="cb76-387"><a href="#cb76-387" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(expand = c(0, 0)) +</span></span>
<span id="cb76-388"><a href="#cb76-388" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(axis.text = element_blank(),</span></span>
<span id="cb76-389"><a href="#cb76-389" aria-hidden="true" tabindex="-1"></a><span class="in">        axis.title = element_blank(),</span></span>
<span id="cb76-390"><a href="#cb76-390" aria-hidden="true" tabindex="-1"></a><span class="in">        axis.ticks = element_blank(),</span></span>
<span id="cb76-391"><a href="#cb76-391" aria-hidden="true" tabindex="-1"></a><span class="in">        panel.grid = element_blank())</span></span>
<span id="cb76-392"><a href="#cb76-392" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-393"><a href="#cb76-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-394"><a href="#cb76-394" aria-hidden="true" tabindex="-1"></a>If you want to make your own special colours, you can write </span>
<span id="cb76-395"><a href="#cb76-395" aria-hidden="true" tabindex="-1"></a>the hexadecimal string by hand.</span>
<span id="cb76-396"><a href="#cb76-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-397"><a href="#cb76-397" aria-hidden="true" tabindex="-1"></a><span class="fu">## Mathematical operators</span></span>
<span id="cb76-398"><a href="#cb76-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-399"><a href="#cb76-399" aria-hidden="true" tabindex="-1"></a>Mathematical operators have their usual meaning:</span>
<span id="cb76-400"><a href="#cb76-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-401"><a href="#cb76-401" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`a + b`</span> a plus b</span>
<span id="cb76-402"><a href="#cb76-402" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`-a`</span> minus a</span>
<span id="cb76-403"><a href="#cb76-403" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`a - b`</span> a minus b</span>
<span id="cb76-404"><a href="#cb76-404" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`a * b`</span> a times b</span>
<span id="cb76-405"><a href="#cb76-405" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`a / b`</span> a divided by b</span>
<span id="cb76-406"><a href="#cb76-406" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`a ^ b`</span> a to the power b </span>
<span id="cb76-407"><a href="#cb76-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-408"><a href="#cb76-408" aria-hidden="true" tabindex="-1"></a>Some useful but less commonly seen operators</span>
<span id="cb76-409"><a href="#cb76-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-410"><a href="#cb76-410" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`a %% b`</span> a remainder b  (13 %% 5 = 3). Also called the modulo operator.</span>
<span id="cb76-411"><a href="#cb76-411" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`a %/% b`</span> integer division (13 %/% 5 = 2). </span>
<span id="cb76-412"><a href="#cb76-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-413"><a href="#cb76-413" aria-hidden="true" tabindex="-1"></a>Some of the mathematical operators are used by tidyverse and associated packages for different purposes.</span>
<span id="cb76-414"><a href="#cb76-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-415"><a href="#cb76-415" aria-hidden="true" tabindex="-1"></a><span class="in">`ggplot2`</span> uses <span class="in">`+`</span> to add elements of the a plot together</span>
<span id="cb76-416"><a href="#cb76-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-417"><a href="#cb76-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-420"><a href="#cb76-420" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb76-421"><a href="#cb76-421" aria-hidden="true" tabindex="-1"></a>p_box <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(penguins, <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> bill_length_mm)) <span class="sc">+</span></span>
<span id="cb76-422"><a href="#cb76-422" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb76-423"><a href="#cb76-423" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Species"</span>, <span class="at">y =</span> <span class="st">"Bill length mm"</span>)</span>
<span id="cb76-424"><a href="#cb76-424" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-425"><a href="#cb76-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-426"><a href="#cb76-426" aria-hidden="true" tabindex="-1"></a><span class="in">`patchwork`</span> uses <span class="in">`+`</span> and <span class="in">`/`</span> to arrange separate plots into one combined plot, and uses <span class="in">`&amp;`</span> to modify all the plots.  </span>
<span id="cb76-427"><a href="#cb76-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-428"><a href="#cb76-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-429"><a href="#cb76-429" aria-hidden="true" tabindex="-1"></a>``<span class="in">`{r patchwork, warning = FALSE, fig.cap="Boxplot and violin plot combined with `</span>patchwork`"}</span>
<span id="cb76-430"><a href="#cb76-430" aria-hidden="true" tabindex="-1"></a>p_violin &lt;- ggplot(penguins, aes(x = species, y = bill_length_mm)) +</span>
<span id="cb76-431"><a href="#cb76-431" aria-hidden="true" tabindex="-1"></a>  geom_violin() +</span>
<span id="cb76-432"><a href="#cb76-432" aria-hidden="true" tabindex="-1"></a>  labs(x = "Species", y = "Bill length mm")</span>
<span id="cb76-433"><a href="#cb76-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-434"><a href="#cb76-434" aria-hidden="true" tabindex="-1"></a>library(patchwork)</span>
<span id="cb76-435"><a href="#cb76-435" aria-hidden="true" tabindex="-1"></a>p_box + p_violin &amp;</span>
<span id="cb76-436"><a href="#cb76-436" aria-hidden="true" tabindex="-1"></a>  theme(axis.text.x = element_text(angle = 45))</span>
<span id="cb76-437"><a href="#cb76-437" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-438"><a href="#cb76-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-439"><a href="#cb76-439" aria-hidden="true" tabindex="-1"></a><span class="in">## Percent signs</span></span>
<span id="cb76-440"><a href="#cb76-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-441"><a href="#cb76-441" aria-hidden="true" tabindex="-1"></a><span class="in">Percent signs come in pairs and surround an infix operator.</span></span>
<span id="cb76-442"><a href="#cb76-442" aria-hidden="true" tabindex="-1"></a><span class="in">An infix operator is a special type of function that goes between two operands.</span></span>
<span id="cb76-443"><a href="#cb76-443" aria-hidden="true" tabindex="-1"></a><span class="in">For example, the integer division operator `13 %/% 5`. </span></span>
<span id="cb76-444"><a href="#cb76-444" aria-hidden="true" tabindex="-1"></a><span class="in">This can be re-written as a regular function with ```%/%`(13, 5)``</span></span>
<span id="cb76-445"><a href="#cb76-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-446"><a href="#cb76-446" aria-hidden="true" tabindex="-1"></a><span class="in">Some important infix operators are</span></span>
<span id="cb76-447"><a href="#cb76-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-448"><a href="#cb76-448" aria-hidden="true" tabindex="-1"></a><span class="in">- `%%` remainder or modulo operator</span></span>
<span id="cb76-449"><a href="#cb76-449" aria-hidden="true" tabindex="-1"></a><span class="in">- `%/%` integer division</span></span>
<span id="cb76-450"><a href="#cb76-450" aria-hidden="true" tabindex="-1"></a><span class="in">- `%in%` matching operator which tests if the elements of the first vector are in the second vector.</span></span>
<span id="cb76-451"><a href="#cb76-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-452"><a href="#cb76-452" aria-hidden="true" tabindex="-1"></a><span class="in">```{r in}</span></span>
<span id="cb76-453"><a href="#cb76-453" aria-hidden="true" tabindex="-1"></a><span class="in">x &lt;- c("January", "Wednesday")</span></span>
<span id="cb76-454"><a href="#cb76-454" aria-hidden="true" tabindex="-1"></a><span class="in">x %in% month.name # which element of x is a name of a month</span></span>
<span id="cb76-455"><a href="#cb76-455" aria-hidden="true" tabindex="-1"></a><span class="in">#equivalent to, but much neater than</span></span>
<span id="cb76-456"><a href="#cb76-456" aria-hidden="true" tabindex="-1"></a><span class="in">x == "January" | x == "February" | x == "March" # etc</span></span>
<span id="cb76-457"><a href="#cb76-457" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-458"><a href="#cb76-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-459"><a href="#cb76-459" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`%*%`</span> matrix multiplication</span>
<span id="cb76-460"><a href="#cb76-460" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`%&gt;%`</span> the tidyverse pipe</span>
<span id="cb76-461"><a href="#cb76-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-462"><a href="#cb76-462" aria-hidden="true" tabindex="-1"></a>If you want to get help on any infix operator, you need to surround it in backticks or you get the error <span class="in">`unexpected SPECIAL in "?%in%"`</span></span>
<span id="cb76-463"><a href="#cb76-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-464"><a href="#cb76-464" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = FALSE}</span></span>
<span id="cb76-465"><a href="#cb76-465" aria-hidden="true" tabindex="-1"></a><span class="in"> ?`%in%`</span></span>
<span id="cb76-466"><a href="#cb76-466" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-467"><a href="#cb76-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-468"><a href="#cb76-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-469"><a href="#cb76-469" aria-hidden="true" tabindex="-1"></a><span class="fu">## Quote marks</span></span>
<span id="cb76-470"><a href="#cb76-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-471"><a href="#cb76-471" aria-hidden="true" tabindex="-1"></a>Strings in R need to be surrounded by quote marks.</span>
<span id="cb76-472"><a href="#cb76-472" aria-hidden="true" tabindex="-1"></a>You can use single or double quote marks.</span>
<span id="cb76-473"><a href="#cb76-473" aria-hidden="true" tabindex="-1"></a>If your string contains quotes, they either need to be the opposite type from those around the string, or escaped with a backslash (see @sec-backslash).</span>
<span id="cb76-474"><a href="#cb76-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-477"><a href="#cb76-477" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb76-478"><a href="#cb76-478" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">"cat"</span> <span class="co"># double quote marks</span></span>
<span id="cb76-479"><a href="#cb76-479" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">'cat'</span> <span class="co"># single quote marks</span></span>
<span id="cb76-480"><a href="#cb76-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-481"><a href="#cb76-481" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">"She said 'The cat.'"</span> <span class="co"># single quote marks nested in double quotes</span></span>
<span id="cb76-482"><a href="#cb76-482" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">"She said </span><span class="sc">\"</span><span class="st">The cat.</span><span class="sc">\"</span><span class="st">"</span> <span class="co"># escaped quote marks</span></span>
<span id="cb76-483"><a href="#cb76-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-484"><a href="#cb76-484" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-485"><a href="#cb76-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-486"><a href="#cb76-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-487"><a href="#cb76-487" aria-hidden="true" tabindex="-1"></a>The backtick ` looks a little bit like a small quote mark.</span>
<span id="cb76-488"><a href="#cb76-488" aria-hidden="true" tabindex="-1"></a>They are used to enclose names that are not legal R names.</span>
<span id="cb76-489"><a href="#cb76-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-492"><a href="#cb76-492" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb76-493"><a href="#cb76-493" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="st">`</span><span class="at">Standard Deviation</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>)</span>
<span id="cb76-494"><a href="#cb76-494" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-495"><a href="#cb76-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-496"><a href="#cb76-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-497"><a href="#cb76-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-498"><a href="#cb76-498" aria-hidden="true" tabindex="-1"></a><span class="fu">## Question marks</span></span>
<span id="cb76-499"><a href="#cb76-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-500"><a href="#cb76-500" aria-hidden="true" tabindex="-1"></a>Use a <span class="in">`?`</span> to get help on a function, for example <span class="in">`?lm`</span>, which is equivalent to <span class="in">`help(lm)`</span></span>
<span id="cb76-501"><a href="#cb76-501" aria-hidden="true" tabindex="-1"></a>Or <span class="in">`??`</span> to get help on a topic, for example <span class="in">`??"linear models"`</span>, which is equivalent to <span class="in">`help.search("linear models")`</span>. </span>
<span id="cb76-502"><a href="#cb76-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-503"><a href="#cb76-503" aria-hidden="true" tabindex="-1"></a>If you want help on something that does not start with a letter or dot, you need to surround it in backticks, for example <span class="in">``?`+``</span>.</span>
<span id="cb76-504"><a href="#cb76-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-505"><a href="#cb76-505" aria-hidden="true" tabindex="-1"></a><span class="fu">## Regular expressions</span></span>
<span id="cb76-506"><a href="#cb76-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-507"><a href="#cb76-507" aria-hidden="true" tabindex="-1"></a>Several characters take on a special meaning with regular expressions, including <span class="in">`^ $ ? * + () [] {} :`</span>.</span>
<span id="cb76-508"><a href="#cb76-508" aria-hidden="true" tabindex="-1"></a>Regular expressions are always enclosed in quote marks. See the tutorial on text manipulation for an introduction into regular expressions.</span>
<span id="cb76-509"><a href="#cb76-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-510"><a href="#cb76-510" aria-hidden="true" tabindex="-1"></a><span class="fu">## Semi-colon</span></span>
<span id="cb76-511"><a href="#cb76-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-512"><a href="#cb76-512" aria-hidden="true" tabindex="-1"></a>The semi-colon <span class="in">`;`</span> can optionally be used at the end of a line of code, but there is no advantage to doing this (in other languages it can be compulsory).</span>
<span id="cb76-513"><a href="#cb76-513" aria-hidden="true" tabindex="-1"></a>It can be used to separate two R statements on the same line. </span>
<span id="cb76-514"><a href="#cb76-514" aria-hidden="true" tabindex="-1"></a>This is not recommended as it can make code difficult to read. </span>
<span id="cb76-515"><a href="#cb76-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-516"><a href="#cb76-516" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = FALSE}</span></span>
<span id="cb76-517"><a href="#cb76-517" aria-hidden="true" tabindex="-1"></a><span class="in"># bad</span></span>
<span id="cb76-518"><a href="#cb76-518" aria-hidden="true" tabindex="-1"></a><span class="in">i &lt;- 7 * 6; print(i)</span></span>
<span id="cb76-519"><a href="#cb76-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-520"><a href="#cb76-520" aria-hidden="true" tabindex="-1"></a><span class="in"># good</span></span>
<span id="cb76-521"><a href="#cb76-521" aria-hidden="true" tabindex="-1"></a><span class="in">i &lt;- 7 * 6</span></span>
<span id="cb76-522"><a href="#cb76-522" aria-hidden="true" tabindex="-1"></a><span class="in">print(i)</span></span>
<span id="cb76-523"><a href="#cb76-523" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb76-524"><a href="#cb76-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-525"><a href="#cb76-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-526"><a href="#cb76-526" aria-hidden="true" tabindex="-1"></a><span class="fu">## Underscore</span></span>
<span id="cb76-527"><a href="#cb76-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-528"><a href="#cb76-528" aria-hidden="true" tabindex="-1"></a>The underscore <span class="in">`_`</span> can be used in object names along with alphanumeric characters and dot.</span>
<span id="cb76-529"><a href="#cb76-529" aria-hidden="true" tabindex="-1"></a>It cannot be the first character of the name.</span>
<span id="cb76-530"><a href="#cb76-530" aria-hidden="true" tabindex="-1"></a>It is useful as a word separator in <span class="in">`snake_case`</span>.</span>
<span id="cb76-531"><a href="#cb76-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-532"><a href="#cb76-532" aria-hidden="true" tabindex="-1"></a><span class="fu">## White space</span></span>
<span id="cb76-533"><a href="#cb76-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-534"><a href="#cb76-534" aria-hidden="true" tabindex="-1"></a>White space is free and usually has no impact on how the code runs. </span>
<span id="cb76-535"><a href="#cb76-535" aria-hidden="true" tabindex="-1"></a>Use lots of it to make your code more readable.</span>
<span id="cb76-536"><a href="#cb76-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-537"><a href="#cb76-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-538"><a href="#cb76-538" aria-hidden="true" tabindex="-1"></a><span class="fu">## @</span></span>
<span id="cb76-539"><a href="#cb76-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-540"><a href="#cb76-540" aria-hidden="true" tabindex="-1"></a>You will occasionally see an <span class="in">`@`</span> in R code. </span>
<span id="cb76-541"><a href="#cb76-541" aria-hidden="true" tabindex="-1"></a>They are used to subset S4 class objects, analogous to the use of <span class="in">`$`</span> to subset lists and data frames. </span>
<span id="cb76-542"><a href="#cb76-542" aria-hidden="true" tabindex="-1"></a>Unless you are coding your own S4 classes, you probably won't see or use <span class="in">`@`</span> very often. </span>
<span id="cb76-543"><a href="#cb76-543" aria-hidden="true" tabindex="-1"></a>See <span class="co">[</span><span class="ot">Chapter 15 of Advanced R</span><span class="co">](https://adv-r.hadley.nz/s4.html)</span> for more information about S4 classes.</span>
<span id="cb76-544"><a href="#cb76-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-545"><a href="#cb76-545" aria-hidden="true" tabindex="-1"></a>::: {.column-margin}</span>
<span id="cb76-546"><a href="#cb76-546" aria-hidden="true" tabindex="-1"></a><span class="fu">### Contributors {.unlisted .unnumbered}</span></span>
<span id="cb76-547"><a href="#cb76-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-548"><a href="#cb76-548" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Richard Telford</span>
<span id="cb76-549"><a href="#cb76-549" aria-hidden="true" tabindex="-1"></a>:::</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>